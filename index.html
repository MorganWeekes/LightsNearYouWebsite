<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Test Header</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="styles/style3.css">
    <script src="scripts/script.js"></script>
    <link rel="icon" href="images/icon.png">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/openlayers/openlayers.github.io@master/en/v6.10.0/css/ol.css" type="text/css" />
    <script src="https://cdn.jsdelivr.net/gh/openlayers/openlayers.github.io@master/en/v6.10.0/build/ol.js"></script>
  </head>

  <body id="body">

    <div class="web" id="web">
      <header>

        <img class="logo" src="images/logo.png" alt="logo">

        <nav>
          <ul class="nav__links">
            <li>
              <a class="dropdown" href="#">
                <button class="buttonmenu">Services</button>
                <div class="dropdown-content">
                  <p>Hello World!</p>
                </div>
              </a>
            </li>
            <li>
              <a class="dropdown" href="#">
                <button class="buttonmenu">Preferences</button>
                <div class="dropdown-content">
                  <p>Hello World!</p>
                </div>
              </a>
            </li>
            <li>
              <a class="dropdown" href="#">
                <button class="buttonmenu">About</button>
                <div class="dropdown-content">
                  <p>Hello World!</p>
                </div>
              </a>
            </li>
            <li>
              <a class="dropdown" href="#">
                <button class="buttonmenu">Contact</button>
                <div class="dropdown-content">
                  <p>Hello World!</p>
                </div>
              </a>
            </li>
          </ul>

        </nav>

        <div>
          <button onclick="$().test('msg');" class=buttontoggleoff >❅</button>
        </div>
      </header>


      <div class="mapalign">
        <div class="ltext">
          <h1 class="red" id="a">Lights closest to you</h1>
        </div>
        <div id="maploc"class"outerpan">
          <div id="map" class="map"></div>
        </div>
        <div style="padding:3%"></div>
      </div>
      <div class="store-icons">
        <h1 style="color:white;">Get the app now on selected Mobile Stores</h1>
        <div style="padding:5px"></div>
        <div class="storeimages">
          <img src="Images/Stores/playstore.png" alt="">
          <div style="padding:3%"></div>
          <img src="Images/Stores/appstore.png" alt="">
        </div>
      </div>
      <div style="padding:5%"></div>
      <div id="snowflakes" class="snowflakes" aria-hidden="true">
        <div class="snowflake"> ❅ </div>
        <div class="snowflake"> ❅ </div>
        <div class="snowflake"> ❅ </div>
        <div class="snowflake"> ❅ </div>
        <div class="snowflake"> ❅ </div>
        <div class="snowflake"> ❅ </div>
        <div class="snowflake"> ❅ </div>
        <div class="snowflake"> ❅ </div>
        <div class="snowflake"> ❅ </div>
        <div class="snowflakes2"> ❅ </div>
        <div class="snowflakes2"> ❅ </div>
        <div class="snowflakes2"> ❅ </div>
        <div class="snowflakes2"> ❅ </div>
        <div class="snowflakes2"> ❅ </div>
        <div class="snowflakes2"> ❅ </div>
        <div class="snowflakes2"> ❅ </div>
        <div class="snowflakes2"> ❅ </div>
        <div class="snowflakes2"> ❅ </div>
        <div class="snowflakes2"> ❅ </div>
        <div class="snowflakes2"> ❅ </div>
      </div>
    </div>
    <div class="mobile" id="mobile">
      <div im>
        <header>
          <img class="logom" src="images/logo.png" alt="logo">
          <div class="dropdownm">
            <img src="images/menum.png" class="menum">
            <div class="dropdown-contentm">
              <div class="buttonholderm">
                <a href="" class="buttonmenum">Services</a>
              </div>
              <div class="buttonholderm">
                <a class="buttonmenum">Preferences</a>
              </div>
              <div class="buttonholderm">
                <a class="buttonmenum">About</a>
              </div>
              <div class="buttonholderm">
                <a class="buttonmenum">Contact</a>
              </div>
            </div>
          </div>
          <div>
            <button onclick="$().SnowflakesMobile('msg');" class=buttontoggleMob >❅</button>
          </div>
        </header>
        <div class="mapalign">
          <h1 class="redm" id="a">Lights closest to you</h1>
          <div id="maplocm"class"outerpan">
            <div id="mapm" class="mapm"></div>
          </div>
          <div style="padding:2%"></div>
        </div>

        <div style="padding:5%"></div>
        <div id="snowflakesmobile" class="snowflakesm" aria-hidden="true">
          <div class="snowflake"> ❅ </div>
          <div class="snowflake"> ❅ </div>
          <div class="snowflake"> ❅ </div>
          <div class="snowflake"> ❅ </div>

          <div class="snowflakes2"> ❅ </div>
          <div class="snowflakes2"> ❅ </div>
          <div class="snowflakes2"> ❅ </div>
          <div class="snowflakes2"> ❅ </div>
          <div class="snowflakes2"> ❅ </div>
          <div class="snowflakes2"> ❅ </div>
        </div>
      </div>
    </div>
  </body>
  <footer class="footer">
    <div class="icons">
      <a href="#">
        <img src="images/FacebookIcos/Color/PNG/f_logo_RGB-Blue_100.png" class="footerimgdiv">
      </a>
      <a href="#">
        <img src="images/InstagramIcos/Instagram_Glyph_Gradient_RGB_Inverted.png" class="footerimgdiv">
      </a>
      <a href="#">
        <img src="images/Twitter social icons/TwitterIcosRound/Twitter social icons - circle - blue.png" class="footerimgdiv">
      </a>
      <div>
        <h3>Lights near you ©</h3>
      </div>
    </div>
    <!-- Rectangular switch -->

  </footer>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js">

</script>


  <script>
  var snowflakes = true;

    $.fn.test = function(){
        if(snowflakes == true){
          console.log("snowflakesOff");
              document.getElementById("snowflakes").style.visibility = "hidden";
              document.getElementById("snowflakes").style.display = "none";
              snowflakes = !snowflakes;
            }
            else if(snowflakes != true){
              console.log("snowflakesOn");
        document.getElementById("snowflakes").style.visibility = "visible";
        document.getElementById("snowflakes").style.display = "block";
  snowflakes = !snowflakes;
      }

    };
    var snowflakesMobilevar = false;
      $.fn.SnowflakesMobile = function(){
          if(snowflakesMobilevar == true){
            console.log("snowflakesOff");
                document.getElementById("snowflakesmobile").style.visibility = "hidden";
                document.getElementById("snowflakesmobile").style.display = "none";
                snowflakesMobilevar = !snowflakesMobilevar;
              }
              else if(snowflakesMobilevar != true){
                console.log("snowflakesOn");
          document.getElementById("snowflakesmobile").style.visibility = "visible";
          document.getElementById("snowflakesmobile").style.display = "block";
    snowflakesMobilevar = !snowflakesMobilevar;
        }

      };

    var DoUpdate;
    console.log("document loaded");
    $(window).resize(function() {
      if ($(window).width() > 855) {
        document.getElementById("mobile").style.visibility = "hidden";
        document.getElementById("web").style.visibility = "visible";
        document.getElementById("mobile").style.display = "none";
        document.getElementById("web").style.display = "block";
        if (document.getElementById("map").innerHTML == "") {
          var map = new ol.Map({
            target: 'map',
            layers: [
              new ol.layer.Tile({
                source: new ol.source.OSM()
              })
            ],
            view: new ol.View({
              center: ol.proj.fromLonLat([-1.2943571, 52.9246591]),
              zoom: 17
            })
          });
        }
      } else if ($(window).width() < 855) {
        document.getElementById("mobile").style.visibility = "visible";
        document.getElementById("web").style.visibility = "hidden";
        document.getElementById("mobile").style.display = "block";
        document.getElementById("web").style.display = "none";
        if (document.getElementById("mapm").innerHTML == "") {
          var map = new ol.Map({
            target: 'mapm',
            layers: [
              new ol.layer.Tile({
                source: new ol.source.OSM()
              })
            ],
            view: new ol.View({
              center: ol.proj.fromLonLat([-1.2943571, 52.9246591]),
              zoom: 15
            })
          });
        }
      }
    });
    $(document).ready(function() {

      var pos;
        if (navigator.geolocation) {
          pos = navigator.geolocation.getCurrentPosition(getloc);

        }
        function getloc(position){

          if ($(window).width() > 855) {
            var map;
            map = document.getElementById("map");
            map.remove();


            var newDiv = document.createElement('div');
            newDiv.id = "map";
            newDiv.className = 'map';
            document.getElementById('maploc').appendChild(newDiv);
            pos = [position.coords.latitude +','+ position.coords.longitude];
            document.getElementById("mobile").style.visibility = "hidden";
            document.getElementById("web").style.visibility = "visible";
            document.getElementById("mobile").style.display = "none";
            document.getElementById("web").style.display = "block";
            var map = new ol.Map({
              target: 'map',
              layers: [
                new ol.layer.Tile({
                  source: new ol.source.OSM()
                })
              ],
              view: new ol.View({
                center: ol.proj.fromLonLat([position.coords.longitude , position.coords.latitude]),
                zoom: 15
              })
            });

          }


        else if ($(window).width() < 855) {
          var mapm;
          mapm = document.getElementById("mapm");
          mapm.remove();


          var newDiv = document.createElement('div');
          newDiv.id = "mapm";
          newDiv.className = 'mapm';
          document.getElementById('maplocm').appendChild(newDiv);
          document.getElementById("mobile").style.visibility = "visible";
          document.getElementById("web").style.visibility = "hidden";
          document.getElementById("mobile").style.display = "block";
          document.getElementById("web").style.display = "none";
          var map = new ol.Map({
            target: 'mapm',
            layers: [
              new ol.layer.Tile({
                source: new ol.source.OSM()
              })
            ],
            view: new ol.View({
              center: ol.proj.fromLonLat([position.coords.longitude , position.coords.latitude]),
              zoom: 15
            })
          });
        }
        }
        if ($(window).width() > 855) {

          document.getElementById("mobile").style.visibility = "hidden";
          document.getElementById("web").style.visibility = "visible";
          document.getElementById("mobile").style.display = "none";
          document.getElementById("web").style.display = "block";
          var map = new ol.Map({
            target: 'map',
            layers: [
              new ol.layer.Tile({
                source: new ol.source.OSM()
              })
            ],
            view: new ol.View({
              center: ol.proj.fromLonLat([-1.2401012,52.9540019]),
              zoom: 12
            })
          });

        }


      else if ($(window).width() < 855) {
        document.getElementById("mobile").style.visibility = "visible";
        document.getElementById("web").style.visibility = "hidden";
        document.getElementById("mobile").style.display = "block";
        document.getElementById("web").style.display = "none";
        var map = new ol.Map({
          target: 'mapm',
          layers: [
            new ol.layer.Tile({
              source: new ol.source.OSM()
            })
          ],
          view: new ol.View({
            center: ol.proj.fromLonLat([-1.2401012,52.9540019]),
            zoom: 15
          })
        });
      }
    });
  </script>
</html>
